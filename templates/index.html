{% from "bootstrap5/form.html" import render_form %}
{% include 'header.html' %}

    <main>

            <div class="main-head" style="margin-top: 80px; display: flex;">
            <img src="{{ url_for('static', filename='images/DeWatermark.ai_1718133194932.png') }}" alt="mychai" style="height: 50px; width: 50px; margin: 20px;">
            {% if location %}
                <h2 class="mt-4"> {{ location }} </h2>
            {% endif %}
            </div>

        <!-- Navigattion -->
        <ul>
            <li>
                <a href="/">Home</a>
                <a href="/all">All</a>
                <a href="/add">Add a Cafe</a>
                <a href="/random">Random Cafe</a>
            </li>
        </ul>
        <div class="horizontal"></div>

        <!-- Add Your Cafes Here -->
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 py-5" style="text-align: center;">
            <div class="col mb-2">
                <h3>Description</h3>
                <div class="horizontal"></div>
                <ul class="mt-5">
                {% for cafe in cafes: %}
                    <a href="/features/{{ cafe.id }}">
                        <li style="text-align: left; margin-top: 131px; margin-bottom: 125px;">
                            <img src="{{ cafe.img_url }}" alt="coffeeme" style="width: 200px; height: 130px; position: absolute; ;">
                            <p style="margin-left: 220px; text-align: center;">{{ cafe.name }}</p>
                            <p style="margin-left: 200px; text-align: center;">{{ cafe.coffee_price }}</p>
                        </li>
                    </a>
                {% endfor %}
                </ul>
            </div>
            <div class="col mb-2">
                <h3>Location</h3>
                <div class="horizontal"></div>
                {% for cafe in cafes: %}
                <p style=" margin-top: 197px; margin-bottom: 190px;">{{ cafe.location }}</p>
                {% endfor %}
            </div>
            <div class="col mb-2">
                <h3>Map</h3>
                <div class="horizontal"></div>
                    {% for cafe in cafes: %}
                    <label style=" margin-top: 195px; margin-bottom: 190px; display: block; overflow: hidden;"><a href="{{ cafe.map_url }}">{{ cafe.map_url }}</a></label>
                    {% endfor %}
                </div>
            <div>
                {% for cafe in cafes %}
                <label style=" margin-top: 150px; width: 100%;">
                <button id="delete-me" type="button"><a style="text-decoration: none; color: white;" href="/report-closed/{{ cafe.id }}?api_key=GhostOfUchiha">Delete</a></button>
                <button class="mt-3" id="update-price" type="button" ><a href="/update-price/{{ cafe.id }}" style="text-decoration: none; color: white;">Update Price</a></button>
                </label>
                {% endfor %}
            </div>

        </div>

        <!-- Add Your Flask Form Here -->

        {% if aform %}
        <form action="/add" method="POST" style="width: 40%; margin: auto; justify-content: center;">
            {{ render_form(aform, novalidate=True, button_map={"submit": "dark"}) }}
        </form>
        {% endif %}

        {% if myform %}
        <form action="/update-price/{{ cafe_id }}" style="width: 20%; margin: auto;" method="POST">
            {{ render_form(myform, novalidate=True, button_map={"submit": "dark"}) }}
        </form>
        {% endif %}

        {% if message %}
            <script> alert("{{message}}") </script>
        {% endif %}



    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>
</html>
